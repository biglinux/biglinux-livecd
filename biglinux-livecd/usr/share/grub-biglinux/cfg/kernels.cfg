menuentry "Start with proprietary + open source drivers" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
    linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=nonfree nouveau.modeset=0 i915.modeset=1 radeon.modeset=1 systemd.show_status=1 quiet
    initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
}
menuentry "Start with open source drivers" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
    linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=free nouveau.modeset=1 i915.modeset=1 radeon.modeset=1 systemd.show_status=1 quiet
    initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
}

menuentry "" {
    set gfxpayload=keep
}

submenu 'Compatibility modes with proprietary + open source drivers' $menuentry_id_option 'gnulinux-advanced-7ae0c6e3-f7c7-44e4-96e1-edeee79bc62b' {

    title=""
    for kopt in @ARCH@ $kopts  @DEFAULT_ARGS@ @BOOT_ARGS@; do
        if [ -n "$title" ] ; then
            title="$title $kopt";
        else
            title="$kopt";
        fi;
    done


    menuentry "without modeset" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=nonfree nouveau.modeset=0 i915.modeset=0 radeon.modeset=0 systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "nopat noapic noapci nolapic irqpoll iommu=soft hpet=disable" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=nonfree nopat noapic noapci nolapic irqpoll iommu=soft hpet=disable systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "video=SVIDEO-1:d hpet=disable" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=nonfree video=SVIDEO-1:d hpet=disable systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "video=SVIDEO-1:d" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=nonfree video=SVIDEO-1:d systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "hpet=disable" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=nonfree hpet=disable systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "i915.semaphores=1" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=nonfree i915.semaphores=1 systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "nopat" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=nonfree nopat systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "without splash" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor driver=nonfree
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "pnpbios=off" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=nonfree pnpbios=off systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "pnpbios=off noapic nolapic" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=nonfree pnpbios=off noapic nolapic systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "acpi_osi=Linux" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=nonfree acpi_osi=Linux systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "acpi_osi=!Windows 2012" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=nonfree  acpi_osi="!Windows 2012" systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "acpi=off" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=nonfree noacpi acpi=off systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "iommu=soft" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=nonfree iommu=soft systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "nomodeset" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=nonfree nomodeset systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "nopat noapic noapci nolapic nosplash irqpoll" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor driver=nonfree nopat noapic noapci nolapic irqpoll systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }


}


submenu 'Compatibility modes with open source drivers' $menuentry_id_option 'gnulinux-advanced-7ae0c6e3-f7c7-44e4-96e1-edeee79bc62b' {

    title=""
    for kopt in @ARCH@ $kopts  @DEFAULT_ARGS@ @BOOT_ARGS@; do
        if [ -n "$title" ] ; then
            title="$title $kopt";
        else
            title="$kopt";
        fi;
    done

    menuentry "without modeset" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=free nouveau.modeset=0 i915.modeset=0 radeon.modeset=0 systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "nopat noapic noapci nolapic irqpoll iommu=soft hpet=disable" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=free nopat noapic noapci nolapic irqpoll iommu=soft hpet=disable systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "video=SVIDEO-1:d hpet=disable" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=free video=SVIDEO-1:d hpet=disable systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "video=SVIDEO-1:d" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=free video=SVIDEO-1:d systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "hpet=disable" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=free hpet=disable systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "i915.semaphores=1" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=free i915.semaphores=1 systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "nopat" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=free nopat systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "without splash" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor driver=free
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "pnpbios=off" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=free pnpbios=off systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "pnpbios=off noapic nolapic" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=free pnpbios=off noapic nolapic systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "acpi_osi=Linux" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=free acpi_osi=Linux systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "acpi_osi=!Windows 2012" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=free  acpi_osi="!Windows 2012" systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "acpi=off" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=free noacpi acpi=off systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "iommu=soft" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=free iommu=soft systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "nomodeset" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor bootsplash.bootfile=/bootsplash-themes/biglinux/bootsplash video=efifb:nobgrt driver=free nomodeset systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }
    menuentry "nopat noapic noapci nolapic nosplash irqpoll" --class=@DIST_NAME@.@ARCH@ "$title" {# set arguments above with the editor
        linux /boot/vmlinuz-x86_64 misobasedir=manjaro misolabel=BIGLINUX apparmor=1 security=apparmor driver=free nopat noapic noapci nolapic irqpoll systemd.show_status=1 quiet
        initrd /boot/amd_ucode.img /boot/intel_ucode.img /boot/initramfs-@ARCH@.img
    }


}

